<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VIZARD Admin ‚ö° Advanced Panel</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Premium Theme -->
  <link rel="stylesheet" href="assets/css/style.css">

  <style>
    body {
      background: linear-gradient(135deg, var(--primary-bg) 0%, #1a0030 100%);
      min-height: 100vh;
      padding: 20px;
    }

    /* SECURITY HEADER */
    .security-header {
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid rgba(255, 0, 0, 0.3);
      border-radius: 10px;
      padding: 10px 15px;
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }

    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .admin-card-premium {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 
        0 15px 35px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .admin-card-premium:hover {
      transform: translateY(-5px);
      box-shadow: 
        0 25px 50px rgba(255, 45, 149, 0.3),
        0 0 60px rgba(255, 45, 149, 0.2);
      border-color: var(--accent);
    }

    .premium-input {
      background: rgba(255, 255, 255, 0.07) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 12px !important;
      color: white !important;
      padding: 15px 20px !important;
      transition: all 0.3s ease !important;
    }

    .premium-input:focus {
      background: rgba(255, 255, 255, 0.1) !important;
      border-color: var(--accent) !important;
      box-shadow: 0 0 0 3px rgba(255, 45, 149, 0.2), 
                  0 0 30px rgba(255, 45, 149, 0.3) !important;
      transform: scale(1.02);
    }

    /* MULTIPLE IMAGE UPLOAD STYLES */
    .image-upload-container {
      border: 2px dashed rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .image-upload-container:hover {
      border-color: var(--accent);
    }

    .multiple-previews {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .preview-thumbnail {
      width: 100%;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .preview-thumbnail:hover {
      border-color: var(--accent);
      transform: scale(1.05);
    }

    .thumbnail-remove {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger);
      border: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      color: white;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    /* SPECIFICATIONS EDITOR */
    .specs-editor {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      padding: 20px;
      margin-top: 15px;
    }

    .spec-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }

    .spec-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.05) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      border-radius: 8px !important;
      color: white !important;
      padding: 8px 12px !important;
    }

    .btn-add-spec {
      background: rgba(38, 211, 255, 0.2);
      border: 1px solid var(--accent-secondary);
      border-radius: 8px;
      padding: 8px 15px;
      color: var(--accent-secondary);
      transition: all 0.3s ease;
    }

    .btn-add-spec:hover {
      background: var(--accent-secondary);
      color: black;
    }

    .btn-remove-spec {
      background: rgba(255, 49, 97, 0.2);
      border: 1px solid var(--danger);
      border-radius: 8px;
      padding: 8px 12px;
      color: var(--danger);
      transition: all 0.3s ease;
    }

    .btn-remove-spec:hover {
      background: var(--danger);
      color: white;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 10px 25px rgba(255, 45, 149, 0.3);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .btn-admin-primary {
      background: linear-gradient(135deg, var(--accent) 0%, #ff4da6 100%);
      border: none;
      border-radius: 12px;
      padding: 12px 25px;
      font-weight: 600;
      color: white;
      transition: all 0.3s ease;
    }

    .btn-admin-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255, 45, 149, 0.5);
    }

    .btn-admin-secondary {
      background: rgba(38, 211, 255, 0.2);
      border: 1px solid var(--accent-secondary);
      border-radius: 12px;
      padding: 12px 25px;
      font-weight: 600;
      color: var(--accent-secondary);
      transition: all 0.3s ease;
    }

    .btn-admin-secondary:hover {
      background: var(--accent-secondary);
      color: black;
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(38, 211, 255, 0.5);
    }

    .product-grid-admin {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .session-timer {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 0, 0, 0.2);
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 14px;
      border: 1px solid rgba(255, 0, 0, 0.4);
    }
  </style>
</head>

<body onload="checkAdminSession()">

  <!-- SESSION TIMER -->
  <div class="session-timer" id="sessionTimer">
    ‚è∞ Session: <span id="sessionTime">30:00</span>
  </div>

  <div class="admin-container">

    <!-- SECURITY HEADER -->
    <div class="security-header">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <span class="text-warning">üîí ADVANCED ADMIN PANEL</span>
          <small class="text-light ms-2">Multiple Images & Specifications</small>
        </div>
        <div>
          <span class="text-light" id="currentTime"></span>
          <button class="btn btn-sm btn-outline-warning ms-3" onclick="logoutAdmin()">Logout</button>
        </div>
      </div>
    </div>

    <!-- ADMIN HEADER -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h1 class="logo-premium m-0">Advanced Admin Panel ‚ö°</h1>
        <p class="text-secondary m-0">Manage products with multiple images & specs</p>
      </div>
      <a href="index.html" class="btn-admin-primary">‚Üê Back to Store</a>
    </div>

    <!-- STATS GRID -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" id="totalProducts">0</div>
        <div class="text-light">Total Products</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalOrders">0</div>
        <div class="text-light">Total Orders</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalRevenue">‚Çπ0</div>
        <div class="text-light">Total Revenue</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="productsWithMultipleImages">0</div>
        <div class="text-light">Multi-Image Products</div>
      </div>
    </div>

    <!-- PRODUCT FORM -->
    <div class="admin-card-premium">
      <h3 class="mb-4 text-gradient" id="formTitle">üéØ Add New Product</h3>

      <div class="row g-4">
        <div class="col-md-6">
          <!-- BASIC INFO -->
          <input id="pname" class="form-control premium-input mb-3" placeholder="üì¶ Product Name">

          <input id="pprice" type="number" class="form-control premium-input mb-3" placeholder="üí∞ Price">

          <select id="pcategory" class="form-control premium-input mb-3">
            <option value="">üìÅ Select Category</option>
            <option value="Mobiles">üì± Mobiles</option>
            <option value="Electronics">üíª Electronics</option>
            <option value="Clothing">üëï Clothing</option>
            <option value="Accessories">üéß Accessories</option>
          </select>

          <textarea id="pdesc" rows="3" class="form-control premium-input mb-3" placeholder="üìù Product Description"></textarea>

          <!-- MULTIPLE IMAGE UPLOAD -->
          <div class="mb-3">
            <label class="text-light mb-2">üñºÔ∏è Product Images (Multiple)</label>
            <div class="image-upload-container">
              <input id="pimgMultiple" type="file" class="form-control premium-input" 
                     accept="image/*" multiple onchange="previewMultipleImages(event)">
              <small class="text-muted">Select multiple images (Phone: Normal tap se multiple select)</small>
              
              <div class="multiple-previews" id="multiplePreviews"></div>
            </div>
          </div>

        </div>

        <div class="col-md-6">
          <!-- COLOR VARIANTS -->
          <div class="mb-3">
            <label class="text-light mb-2">üé® Color Variants</label>
            <div id="colorVariantsContainer">
              <div class="spec-row">
                <input type="text" class="form-control spec-input color-input" placeholder="Color name (e.g., Space Black)">
                <button type="button" class="btn-remove-spec" onclick="removeColor(this)">√ó</button>
              </div>
            </div>
            <button type="button" class="btn-add-spec mt-2" onclick="addColorField()">+ Add Color</button>
          </div>

          <!-- SPECIFICATIONS EDITOR -->
          <div class="mb-3">
            <label class="text-light mb-2">üìã Product Specifications</label>
            <div class="specs-editor">
              <div id="specsContainer">
                <div class="spec-row">
                  <input type="text" class="form-control spec-input spec-key" placeholder="Specification (e.g., Brand)">
                  <input type="text" class="form-control spec-input spec-value" placeholder="Value (e.g., Apple)">
                  <button type="button" class="btn-remove-spec" onclick="removeSpec(this)">√ó</button>
                </div>
              </div>
              <button type="button" class="btn-add-spec mt-2" onclick="addSpecField()">+ Add Specification</button>
            </div>
          </div>

          <!-- ACTION BUTTONS -->
          <div class="d-grid gap-2">
            <button class="btn-admin-primary" onclick="saveProductAdvanced()" id="saveBtn">
              ‚ûï Add Product
            </button>
            <button class="btn-admin-secondary" onclick="clearFormAdvanced()">
              üóëÔ∏è Clear Form
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- PRODUCTS LIST -->
    <div class="admin-card-premium">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="text-gradient m-0">üì¶ Product Inventory</h3>
        <div class="text-light">
          <span id="productCount">0</span> products ‚Ä¢ 
          <span id="multiImageCount">0</span> with multiple images
        </div>
      </div>

      <div class="product-grid-admin" id="adminProductList"></div>
    </div>

  </div>

  <script>
    let editID = null;
    let sessionTimer;
    let uploadedImages = [];

    // SECURITY: Check admin session
    function checkAdminSession() {
      const loggedIn = localStorage.getItem('adminLogged');
      const sessionStart = localStorage.getItem('adminSessionStart');
      
      if (!loggedIn || !sessionStart) {
        window.location.href = 'admin-login.html';
        return;
      }

      const sessionTime = Date.now() - parseInt(sessionStart);
      if (sessionTime > 2 * 60 * 60 * 1000) {
        logoutAdmin();
        return;
      }

      startSessionTimer();
      loadDashboardStats();
      loadProductsAdvanced();
      updateCurrentTime();
      setInterval(updateCurrentTime, 60000);
    }

    function startSessionTimer() {
      const sessionStart = parseInt(localStorage.getItem('adminSessionStart'));
      const sessionDuration = 2 * 60 * 60 * 1000;
      
      function updateTimer() {
        const now = Date.now();
        const elapsed = now - sessionStart;
        const remaining = sessionDuration - elapsed;
        
        if (remaining <= 0) {
          logoutAdmin();
          return;
        }
        
        const minutes = Math.floor(remaining / 60000);
        const seconds = Math.floor((remaining % 60000) / 1000);
        document.getElementById('sessionTime').textContent = 
          `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
      
      updateTimer();
      sessionTimer = setInterval(updateTimer, 1000);
    }

    function updateCurrentTime() {
      document.getElementById('currentTime').textContent = 
        new Date().toLocaleTimeString();
    }

    function logoutAdmin() {
      clearInterval(sessionTimer);
      localStorage.removeItem('adminLogged');
      localStorage.removeItem('adminSessionStart');
      window.location.href = 'admin-login.html';
    }

    // MULTIPLE IMAGE UPLOAD SYSTEM
    function previewMultipleImages(event) {
      const files = event.target.files;
      uploadedImages = [];
      
      for (let i = 0; i < files.length; i++) {
        const reader = new FileReader();
        reader.onload = function(e) {
          uploadedImages.push(e.target.result);
          updateImagePreviews();
        }
        reader.readAsDataURL(files[i]);
      }
    }

    function updateImagePreviews() {
      const container = document.getElementById('multiplePreviews');
      container.innerHTML = '';
      
      uploadedImages.forEach((img, index) => {
        const previewDiv = document.createElement('div');
        previewDiv.className = 'position-relative';
        previewDiv.style.display = 'inline-block';
        previewDiv.innerHTML = `
          <img src="${img}" class="preview-thumbnail">
          <button class="thumbnail-remove" onclick="removeImage(${index})">√ó</button>
        `;
        container.appendChild(previewDiv);
      });
    }

    function removeImage(index) {
      uploadedImages.splice(index, 1);
      updateImagePreviews();
    }

    // SPECIFICATIONS EDITOR SYSTEM
    function addSpecField() {
      const container = document.getElementById('specsContainer');
      const specRow = document.createElement('div');
      specRow.className = 'spec-row';
      specRow.innerHTML = `
        <input type="text" class="form-control spec-input spec-key" placeholder="Specification">
        <input type="text" class="form-control spec-input spec-value" placeholder="Value">
        <button type="button" class="btn-remove-spec" onclick="removeSpec(this)">√ó</button>
      `;
      container.appendChild(specRow);
    }

    function removeSpec(button) {
      if (document.querySelectorAll('.spec-row').length > 1) {
        button.closest('.spec-row').remove();
      }
    }

    function getSpecifications() {
      const specs = {};
      document.querySelectorAll('.spec-row').forEach(row => {
        const key = row.querySelector('.spec-key').value.trim();
        const value = row.querySelector('.spec-value').value.trim();
        if (key && value) {
          specs[key] = value;
        }
      });
      return Object.keys(specs).length > 0 ? specs : {"Brand": "Generic", "Warranty": "1 Year"};
    }

    // COLOR VARIANTS SYSTEM
    function addColorField() {
      const container = document.getElementById('colorVariantsContainer');
      const colorRow = document.createElement('div');
      colorRow.className = 'spec-row';
      colorRow.innerHTML = `
        <input type="text" class="form-control spec-input color-input" placeholder="Color name">
        <button type="button" class="btn-remove-spec" onclick="removeColor(this)">√ó</button>
      `;
      container.appendChild(colorRow);
    }

    function removeColor(button) {
      if (document.querySelectorAll('.color-input').length > 1) {
        button.closest('.spec-row').remove();
      }
    }

    function getColorVariants() {
      const colors = [];
      document.querySelectorAll('.color-input').forEach(input => {
        const color = input.value.trim();
        if (color) {
          colors.push(color);
        }
      });
      return colors.length > 0 ? colors : ["Black", "White"];
    }

    // ADVANCED PRODUCT MANAGEMENT - FIXED SAVE FUNCTION
    function saveProductAdvanced() {
      console.log("Save button clicked!");
      
      let name = document.getElementById('pname').value.trim();
      let price = document.getElementById('pprice').value;
      let category = document.getElementById('pcategory').value;
      let desc = document.getElementById('pdesc').value.trim();

      // BASIC VALIDATION
      if (!name) {
        showNotification("Please enter product name!", "error");
        return;
      }
      if (!price) {
        showNotification("Please enter product price!", "error");
        return;
      }
      if (!category) {
        showNotification("Please select product category!", "error");
        return;
      }

      // ‚úÖ NO IMAGE RESTRICTION - Even 0 images work
      let products = JSON.parse(localStorage.getItem("products")) || [];
      
      // Get images (use uploaded or existing ones)
      let finalImages = uploadedImages;
      if (finalImages.length === 0) {
        // If no new images, use existing ones in edit mode, else default image
        if (editID !== null && products[editID] && products[editID].images) {
          finalImages = products[editID].images;
        } else {
          finalImages = ["https://via.placeholder.com/500x500/150013/ffffff?text=" + encodeURIComponent(name)];
        }
      }

      const colors = getColorVariants();
      const specifications = getSpecifications();

      // CREATE PRODUCT OBJECT
      const productData = { 
        name, 
        price: parseInt(price), 
        category, 
        desc: desc || "No description", 
        images: finalImages,
        colors,
        specifications,
        img: finalImages[0] // First image as main image
      };

      console.log("Product data to save:", productData);

      if (editID !== null) {
        // EDIT MODE
        products[editID] = productData;
        showNotification("‚úÖ Product updated successfully!", "success");
        editID = null;
        document.getElementById('saveBtn').textContent = "‚ûï Add Product";
        document.getElementById('formTitle').textContent = "üéØ Add New Product";
      } else {
        // ADD MODE
        products.push(productData);
        showNotification("‚úÖ Product added successfully!", "success");
      }

      // SAVE TO LOCALSTORAGE
      localStorage.setItem("products", JSON.stringify(products));
      console.log("Products saved:", products);
      
      // RELOAD AND RESET
      clearFormAdvanced();
      loadProductsAdvanced();
      loadDashboardStats();
    }

    function loadProductsAdvanced() {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      let box = document.getElementById("adminProductList");
      box.innerHTML = "";

      document.getElementById('productCount').textContent = products.length;
      document.getElementById('multiImageCount').textContent = products.filter(p => p.images && p.images.length > 1).length;

      if (products.length === 0) {
        box.innerHTML = `
          <div class="col-12 text-center py-5">
            <h4 class="text-light">No products yet</h4>
            <p class="text-secondary">Add your first product to get started</p>
          </div>
        `;
        return;
      }

      products.forEach((p, i) => {
        const imageCount = p.images ? p.images.length : 1;
        box.innerHTML += `
          <div class="product-card-premium">
            <div class="position-relative">
              <img src="${p.img}" style="height:120px;width:100%;object-fit:contain;border-radius:12px;background:#150013;margin-bottom:12px;">
              <span class="badge bg-warning position-absolute top-0 end-0">${imageCount} üñºÔ∏è</span>
            </div>
            <h6 class="text-light">${p.name}</h6>
            <p class="text-success fw-bold">‚Çπ${p.price}</p>
            <p class="text-secondary small">${p.category}</p>
            <p class="text-info small">${p.colors ? p.colors.length : 0} colors ‚Ä¢ ${p.specifications ? Object.keys(p.specifications).length : 0} specs</p>
            
            <div class="d-flex gap-2 mt-3">
              <button onclick="editProductAdvanced(${i})" class="btn-admin-secondary flex-fill">‚úèÔ∏è Edit</button>
              <button onclick="deleteProductAdvanced(${i})" class="btn btn-sm btn-outline-danger">üóëÔ∏è</button>
            </div>
          </div>
        `;
      });
    }

    function editProductAdvanced(i) {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      let p = products[i];

      document.getElementById('pname').value = p.name;
      document.getElementById('pprice').value = p.price;
      document.getElementById('pcategory').value = p.category;
      document.getElementById('pdesc').value = p.desc;

      // Load images
      uploadedImages = p.images || [];
      updateImagePreviews();

      // Load colors
      const colorContainer = document.getElementById('colorVariantsContainer');
      colorContainer.innerHTML = '';
      if (p.colors && p.colors.length > 0) {
        p.colors.forEach(color => {
          const colorRow = document.createElement('div');
          colorRow.className = 'spec-row';
          colorRow.innerHTML = `
            <input type="text" class="form-control spec-input color-input" value="${color}">
            <button type="button" class="btn-remove-spec" onclick="removeColor(this)">√ó</button>
          `;
          colorContainer.appendChild(colorRow);
        });
      } else {
        addColorField();
      }

      // Load specifications
      const specsContainer = document.getElementById('specsContainer');
      specsContainer.innerHTML = '';
      if (p.specifications) {
        for (const [key, value] of Object.entries(p.specifications)) {
          const specRow = document.createElement('div');
          specRow.className = 'spec-row';
          specRow.innerHTML = `
            <input type="text" class="form-control spec-input spec-key" value="${key}">
            <input type="text" class="form-control spec-input spec-value" value="${value}">
            <button type="button" class="btn-remove-spec" onclick="removeSpec(this)">√ó</button>
          `;
          specsContainer.appendChild(specRow);
        }
      } else {
        addSpecField();
      }

      editID = i;
      document.getElementById('saveBtn').textContent = "üíæ Update Product";
      document.getElementById('formTitle').textContent = "‚úèÔ∏è Edit Product";

      document.querySelector('.admin-card-premium').scrollIntoView({ behavior: 'smooth' });
    }

    function deleteProductAdvanced(i) {
      if (!confirm("Are you sure you want to delete this product?")) return;
      
      let products = JSON.parse(localStorage.getItem("products")) || [];
      products.splice(i, 1);
      localStorage.setItem("products", JSON.stringify(products));
      
      showNotification("Product deleted successfully!", "success");
      loadProductsAdvanced();
      loadDashboardStats();
    }

    function clearFormAdvanced() {
      document.getElementById('pname').value = "";
      document.getElementById('pprice').value = "";
      document.getElementById('pcategory').value = "";
      document.getElementById('pdesc').value = "";
      document.getElementById('pimgMultiple').value = "";
      
      uploadedImages = [];
      updateImagePreviews();
      
      // Reset colors
      const colorContainer = document.getElementById('colorVariantsContainer');
      colorContainer.innerHTML = '';
      addColorField();
      
      // Reset specifications
      const specsContainer = document.getElementById('specsContainer');
      specsContainer.innerHTML = '';
      addSpecField();
      
      editID = null;
      document.getElementById('saveBtn').textContent = "‚ûï Add Product";
      document.getElementById('formTitle').textContent = "üéØ Add New Product";
    }

    function loadDashboardStats() {
      const products = JSON.parse(localStorage.getItem('products')) || [];
      const orders = JSON.parse(localStorage.getItem('orders')) || [];
      
      let totalRevenue = 0;
      let multiImageCount = 0;

      orders.forEach(order => {
        order.items.forEach(item => {
          totalRevenue += item.price * (item.qty || 1);
        });
      });

      products.forEach(product => {
        if (product.images && product.images.length > 1) {
          multiImageCount++;
        }
      });

      document.getElementById('totalProducts').textContent = products.length;
      document.getElementById('totalOrders').textContent = orders.length;
      document.getElementById('totalRevenue').textContent = '‚Çπ' + totalRevenue;
      document.getElementById('productsWithMultipleImages').textContent = multiImageCount;
    }

    function showNotification(message, type = 'success') {
      const notification = document.createElement('div');
      notification.className = `alert alert-${type === 'success' ? 'success' : 'danger'} position-fixed`;
      notification.style.cssText = `
        top: 20px;
        right: 20px;
        z-index: 9999;
        min-width: 300px;
        animation: slideInRight 0.3s ease-out;
      `;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // Initialize form with default fields
    document.addEventListener('DOMContentLoaded', function() {
      addColorField();
      addSpecField();
    });
  </script>

</body>
</html>